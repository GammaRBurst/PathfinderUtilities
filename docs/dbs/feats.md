# Database Structure for *feats/feats.js*

## Fields

1. __ID__: Every feat is identified by a unique number. They don't have to be progressive, but this is the easiest way to assure they are all different.
1. __Name__: Any sequence of letters, numbers, symbols and spaces, excluded |.
1. __Type__: One or more numbers separated by *;* to indicate the types of a feat. <table><tr><td>Achievement: 0</td><td>Alignment: 1</td><td>Armor Mastery: 2</td><td>Betrayal: 3</td><td>Blood Hex: 4</td></tr><tr><td>Called Shot: 5</td><td>Combat: 6</td><td>Combination: 7</td><td>Conduit: 8</td><td>Coven: 9</td></tr><tr><td>Critical: 10</td><td>Damnation: 11</td><td>Esoteric: 12</td><td>Faction: 13</td><td>Familiar: 14</td></tr><tr><td>Gathlain Court Title: 15</td><td>General: 16</td><td>Grit: 17</td><td>Hero Point: 18</td><td>Item Creation: 19</td></tr><tr><td>Item Mastery: 20</td><td>Meditation: 21</td><td>Metamagic: 22</td><td>Monster: 23</td><td>Mythic: 24</td></tr><tr><td>Origin: 25</td><td>Panache: 26</td><td>Performance: 27</td><td>Possession: 28</td><td>Shield Mastery: 29</td></tr><tr><td>Stare: 30</td><td>Story: 31</td><td>Style: 32</td><td>Targeting: 33</td><td>Teamwork: 34</td></tr><tr><td>Trick: 35</td><td>Weapon Mastery: 36</td><td>Words Of Power: 37</td><td></td><td></td></tr></table>
1. __Required Ability Scores__: A list of ability score IDs followed by *:* and its minimum score. **OR** conditions are possible (see below). If left empty, the minimum score for each ability will be set to 0. <table><tr><td>Strength: 1</td><td>Dexterity: 2</td><td>Constitution: 3</td></tr><tr><td>Inteligence: 4</td><td>Wisdom: 5</td><td>Charisma: 6</td></tr></table>
1. __Required Feats__: A list of feat IDs, separated by *;*. If the feat is part of one or more chains, put only the IDs of the last feat of each chain. E.g. the Great Cleave feat requires both Cleave and Power Attack, but since Cleave also requires Power Attack, it's not necessary to specify Power Attack's ID in this field. This field is optional.
1. __Required Race__: A list of race IDs, separated by *;*. If left empty, this field is set to Any race (0). <table><tr><td>Any race: 0</td><td>Dwarf: 1</td><td>Elf: 2</td><td>Gnome: 3</td><td>Half-Elf: 4</td></tr><tr><td>Halfling: 5</td><td>Half-Orc: 6</td><td>Human: 7</td><td>Aasimar: 8</td><td>Android: 9</td></tr><tr><td>Aphorite: 10</td><td>Catfolk: 11</td><td>Changeling: 12</td><td>Dhampir: 13</td><td>Drow: 14</td></tr><tr><td>Duergar: 15</td><td>Duskwalker: 16</td><td>Fetchling: 17</td><td>Ganzi: 18</td><td>Gathlain: 19</td></tr><tr><td>Ghoran: 20</td><td>Gillman: 21</td><td>Goblin: 22</td><td>Grippli: 23</td><td>Hobgoblin: 24</td></tr><tr><td>Ifrit: 25</td><td>Kasatha: 26</td><td>Kitsune: 27</td><td>Kobold: 28</td><td>Lashunta 29</td></tr><tr><td>Merfolk: 30</td><td>Nagaji: 31</td><td>Orc: 32</td><td>Oread: 33</td><td>Ratfolk: 34</td></tr><tr><td>Samsaran: 35</td><td>Shabti: 36</td><td>Skinwalker: 37</td><td>Strix: 38</td><td>Suli: 39</td></tr><tr><td>Svirfneblin: 40</td><td>Sylph: 41</td><td>Tengu: 42</td><td>Tiefling: 43</td><td>Triaxian: 44</td></tr><tr><td>Triton: 45</td><td>Undine: 46</td><td>Vanara: 47</td><td>Vine Leshy: 48</td><td>Vishkanya: 49</td></tr><tr><td>Wayang: 50</td><td>Wyrwood: 51</td><td>Wyvaran: 52</td><td>Other 99</td><td></td></tr></table>
1. __Required Level__: A number, usually from 1 to 20, indicates the minimum level required to qualify. To indicate the maximum level, put a minus sign (*-*) in front of the number, turning it into a negative. This is used mostly for feats that can be taken only at 1st level (so they will have a value of *-1*). An empty field is interpreted as 0.
1. __Required Mythic Tier__: See **Required Level**. The number is usually between 1 and 10.
1. __Required Class__: A list of class IDs, followed by *:* and the minimum level required. Unspecified classes are set to 0. <table><tr><td>Alchemist: 1</td><td>Antipaladin: 2</td><td>Arcanist: 3</td><td>Barbarian: 4</td><td>Bard: 5</td></tr><tr><td>Bloodrager: 6</td><td>Brawler: 7</td><td>Cavalier: 8</td><td>Cleric: 9</td><td>Druid: 10</td></tr><tr><td>Fighter: 11</td><td>Gunslinger: 12</td><td>Hunter: 13</td><td>Inquisitor: 14</td><td>Investigator: 15</td></tr><tr><td>Kineticist: 16</td><td>Magus: 17</td><td>Medium: 18</td><td>Mesmerist: 19</td><td>Monk: 20</td></tr><tr><td>Ninja: 21</td><td>Occultist: 22</td><td>Oracle: 23</td><td>Paladin: 24</td><td>Psychic: 25</td></tr><tr><td>Ranger: 26</td><td>Rogue: 27</td><td>Samurai: 28</td><td>Shaman: 29</td><td>Shifter: 30</td></tr><tr><td>Skald: 31</td><td>Slayer: 32</td><td>Sorcerer: 33</td><td>Spiritualist: 34</td><td>Summoner: 35</td></tr><tr><td>Swashbuckler: 36</td><td>Vigilante: 37</td><td>Warpriest: 38</td><td>Witch: 39</td><td>Wizard: 40</td></tr></table>
1. __Required Base Attack Bonus__: A number indicates the minimum BAB required. An empty field is interpreted as 0.
1. __Required Caster Level__: A list of caster IDs, followed by *:* and the minimum caster level. **OR** conditions are possible (see below). <table><tr><td>Any caster: 0</td><td>Arcane caster: 1</td><td>Divine caster: 2</td><td>Psychic caster: 3</td></tr></table> If a spell requires the ability to cast spells of a certain level, there is no way to turn that into a meaningful minimum caster level, so in this case use *0:1* instead. If this field is left empty, it's interpreted as *0:0*.
1. __Required Skill Ranks__: A list of skill IDs, followed by *:* and the minimum skill ranks. **OR** conditions are possible (see below). Omitted skills are interpreted as requiring 0 ranks. <table><tr><td>Acrobatics: 1</td><td>Appraise: 2</td><td>Bluff: 3</td></tr><tr><td>Climb: 4</td><td>Craft: 5</td><td>Diplomacy: 6</td></tr><tr><td>Disable Device: 7</td><td>Disguise: 8</td><td>Escape Artist: 9</td></tr><tr><td>Fly: 10</td><td>Handle Animal: 11</td><td>Heal: 12</td></tr><tr><td>Intimidate: 13</td><td>Knowledge (Arcana): 14</td><td>Knowledge (Dungeoneering): 15</td></tr><tr><td>Knowledge (Engineering): 16</td><td>Knowledge (Geography): 17</td><td>Knowledge (History): 18</td></tr><tr><td>Knowledge (Local): 19</td><td>Knowledge (Nature): 20</td><td>Knowledge (Nobility): 21</td></tr><tr><td>Knowledge (Planes): 22</td><td>Knowledge (Religion): 23</td><td>Linguistics 24</td></tr><tr><td>Perception: 25</td><td>Perform: 26</td><td>Profession: 27</td></tr><tr><td>Ride: 28</td><td>Sense Motive: 29</td><td>Sleight Of Hand: 30</td></tr><tr><td>Spellcraft: 31</td><td>Stealth: 32</td><td>Survival: 33</td></tr><tr><td>Swim: 34</td><td>Use Magic Device: 35</td><td></td></tr></table>
1. __Introductory Text__: A short description to be displayed in the feat table.
1. __Description__: A longer description of the feat, to be displayed in the feat sheet.
1. __Prerequisites__: A verbal list of all prerequisites. This is the written counterpart to the prerequisites described in the fields above. As a convention, a semicolon (*;*) between prerequisites means "and" and a comma (*,*) means "or".
1. __Benefit__: The benefit text of the feat.
1. __Normal__: A description of what happens to characters and creatures who don't have the feat. This field is optional.
1. __Note__: Optional text.
1. __Goal__: Optional text.
1. __Completion Benefit__: Optional text.
1. __Residual__: Optional text.
1. __Special__: Optional text.
1. __Suggested Traits__: Optional text.
1. __Combat Trick__: Optional text.
1. __Combat Trick Source__: A number referring to the entry in the `manuals.js` file, located in the same directory as the database. See below for details on its structure. This field has to be specified only if a combat trick is specified as well.
1. __Combat Trick Page__: A number. This field has to be specified only if a combat trick is specified as well.
1. __General Source__: <table><tr><td>Core Rulebook (CR): 1</td><td>Bestiaries (Be): 2</td><td>Advanced Player's Guide (APG): 3</td></tr><tr><td>Ultimate Magic (UM): 4</td><td>Ultimate Combat (UC): 5</td><td>Advanced Race Guide (ARG): 6</td></tr><tr><td>Ultimate Campaign (UCa): 7</td><td>Mythic Adventures (MA): 8</td><td>Advanced Class Guide (ACG): 9</td></tr><tr><td>Monster Codex (MC): 10</td><td>Pathfinder Unchained (PU): 11</td><td>Occult Adventures (OA): 12</td></tr><tr><td>Ultimate Intrigue (UI): 13</td><td>Horror Adventures (HA): 14</td><td>Villain Codex (VC): 15</td></tr><tr><td>Adventurer's Guide (AG): 16</td><td>Book of the Damned (BD): 17</td><td>Ultimate Wilderness (UW): 18</td></tr><tr><td>Planar Adventures (PA): 19</td><td>Campaign Settings (CS): 20</td><td>Player Companions (PC): 21</td></tr><tr><td>Adventure Paths (AP): 22</td><td>Adventure Modules (AM): 23</td><td>Others Paizo (OP) 99</td></tr></table>
1. __Specific Source__: A number referring to the entry in the `manuals.js` file, located in the same directory as the database. See below for details on its structure.
1. __Page Number__: A number.

## General considerations

The fields from 4 to 12 constitute the prerequisite block, while fields from 14 to 26 constitute the description block.

Most of the prerequisites in the prerequisite block are independent of one another, i.e. all of them are required to qualify for the feat. Others, on the other hand, require just one or some of the conditions to be met. Each of these fields have thus two different separators for the various conditions. The first is *;* i.e. the **AND** separator. So *a;b* means the feat requires both conditions *a* and *b*. The second separator is */* i.e. the **OR** separator. So *a/b* means the feat requires at least one of the conditions listed.

**AND** and **OR** conditions can be combined, but keep in mind that **AND** has precedence over **OR**. This means that *a **AND** either b **OR** c* has to be expressed as *a;b/a;c* (literally: *either a **AND** b, **OR** a **AND** c*).

Conditions of the type *two out of a, b, c* have to be translated into all the possible combinations, i.e. *a;b/a;c/b;c*. The number of possible combinations gets big very fast with both the number of prerequisites and the required number, but fortunately this kind of condition is extremely rare.

Finally, **OR** separators can be used only with prerequisites of the same field, e.g. *Int 13 or Cha 13*. A prerequisite that mixes different fields, such as *Dex 17 or monk level 3* can't be expressed as explained above. Fortunately, there is a way to express this kind of condition, but it's slightly more complicated. First, insert a new line **above** the feat. Then write the feat's ID, followed by 28 pipes (|). Finally, write all the conditions that apply always in both lines in the appropriate fields, then one of the **OR** conditions in the first line and the other in the second. If you have more than two **OR** alternatives, create an appropriate number of lines. Unique informations, such as the feat name, its type, or the introductory text, have not to be written, to signal the software that this is not a standalone record. The example above would look like this:

    12345|||2:17|||||||||||||||||||||||||
    12345|Feat Name|16||||||20:3|...

Analogously, some feats appear in more than one manual. To show the feat's complete history in the feat sheet, you have to insert one or more new lines **before** the feat, one for each version, in chronological order. Each line has to start with the same ID, followed by 28 pipes. Fill only the description block (14 to 26), and leave every other field empty. If the prerequisites for a feat changed, write only the verbal prerequisites in field 15, but don't fill the prerequisite fields (4 to 12). 

In the rare cases where a feat falls in both groups, you can write alternative prerequisites and older descriptions on the same line. The software will automatically consider them as separate entities, i.e. the prerequisites will not be interpreted as conditions for the older versions.

### *manuals.js*

In order to have more precise references to the manuals where the feats come from, the file contains a list of all the manuals published by Paizo that contain at least one feat. The file is a unique JavaScript text variable, that is split into lines. To reference a manual, you have to use its position inside the list, starting from 0. This means that the ID of each manual is simply its line number - 1.

If you need to add a third-party manual to the list, add it at the end, just before *`;*. Don't leave empty lines in the list.

